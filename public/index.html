<!DOCTYPE html>
<html>

<head>
  <title>Buy Banano</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
  <script src="https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch"></script>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <script src="https://js.stripe.com/v3/"></script>
</head>

<body>
  <section>
    <div class="product">
      <svg style="max-width: 300px; margin-bottom: -20px;" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 290.5 46.5"
        style="enable-background:new 0 0 290.5 46.5;" xml:space="preserve">
        <style type="text/css">
          .st0 {
            fill: #FBDD11;
          }
        </style>
        <title>bananologo</title>
        <path class="st0"
          d="M128.6,25.5c1,1.4,1.5,3.2,1.5,4.9c0,1.6-0.4,3.1-1.2,4.5c-0.8,1.3-1.9,2.3-3.3,3c-1.4,0.7-3,1.1-4.6,1.1h-13.6  V6.9h12c1.6,0,3.2,0.3,4.6,1.1c1.4,0.7,2.5,1.8,3.3,3.1c0.8,1.4,1.2,3,1.2,4.6c0,1.5-0.3,3-1.1,4.3c-0.7,1.2-1.8,2.2-3,2.8  C126.1,23.2,127.6,24.2,128.6,25.5z M123.1,13.7c-0.4-0.7-1-1.2-1.8-1.6c-0.8-0.4-1.6-0.6-2.4-0.6h-6.7v9.3h6.6  c0.9,0,1.7-0.2,2.4-0.6s1.3-1,1.8-1.7c0.4-0.7,0.7-1.6,0.7-2.4C123.7,15.2,123.5,14.4,123.1,13.7z M122.8,33.9  c0.7-0.4,1.3-1,1.8-1.7c0.4-0.7,0.7-1.5,0.6-2.4c0-0.8-0.2-1.7-0.7-2.4c-0.4-0.7-1-1.3-1.8-1.7c-0.8-0.4-1.6-0.6-2.5-0.6h-8v9.3h8.1  C121.2,34.5,122,34.3,122.8,33.9z" />
        <path class="st0"
          d="M153.5,34h-14.2l-1.8,5.1h-5.4l12.8-32.2h3.1l12.8,32.2h-5.4L153.5,34z M152,29.6l-5.5-15.2L141,29.6H152z" />
        <path class="st0" d="M190.2,6.9v32.2h-2l-18.8-21.8v21.8h-4.9V6.9h1.9l18.8,21.7V6.9H190.2z" />
        <path class="st0"
          d="M215.3,34h-14.2l-1.9,5.1h-5.4l12.8-32.2h3.1l12.9,32.2h-5.4L215.3,34z M213.7,29.6l-5.5-15.1l-5.5,15.2  L213.7,29.6L213.7,29.6z" />
        <path class="st0" d="M251.9,6.9v32.2h-2l-18.7-21.8v21.8h-4.9V6.9h1.9L247,28.6V6.9H251.9z" />
        <path class="st0"
          d="M265.6,37.3c-2.5-1.4-4.6-3.5-6-6c-3-5.1-3-11.4,0-16.5c1.4-2.5,3.5-4.6,6-6c5.1-3,11.4-3,16.6,0  c2.5,1.4,4.6,3.5,6,6c3,5.1,3,11.4,0,16.5c-1.4,2.5-3.5,4.6-6,6C277,40.2,270.7,40.2,265.6,37.3z M279.7,33.1  c3.6-2.1,5.8-5.9,5.8-10.1c0-6.5-5.3-11.7-11.8-11.7c-2,0-4,0.5-5.8,1.5c-3.6,2.1-5.8,5.9-5.8,10.1c0,6.5,5.3,11.7,11.8,11.7  C276,34.6,278,34.1,279.7,33.1z" />
        <g>
          <path class="st0"
            d="M62.8,45.7c-27.5,3.5-40.2-20.8-38-23.2c1.5-1.6,3.8-1.7,5.8-1.7c9.2-0.2,22.2,10.5,24.9,10.5   c5.1-0.1,12.8-8.3,17.9-15c2.1-2.8,15.3-7.1,13.8,0.3C82.5,40.5,66.3,45.2,62.8,45.7z" />
          <path class="st0"
            d="M24.5,0.3c27.5-3.5,40.2,20.8,38,23.2c-1.5,1.6-3.8,1.7-5.8,1.7c-9.2,0.2-22.2-10.5-24.9-10.5   c-5.1,0.1-12.8,8.3-17.9,15c-2.1,2.8-15.3,7.1-13.8-0.3C4.8,5.4,21,0.7,24.5,0.3z" />
        </g>
      </svg>
      <div class="description">
        <h1>Buy Banano with fiat directly</h1>
        <p>I want to make it easier to get you your well-deserved bananos, so I made this website to easily buy it via
          stripe. Just enter your wallet address and the amount of BAN you want to purchase and stripe will handle the
          rest.</p>

        <p>This is an early prototype, so thank you for your trust and if there are any issues, you can write me on
          Discord: Consti#9536. <a href="/video.html">Check this video to see how it works</a> </p>
        <p class="own">I am selling my own BAN, this is not an exchange.</p>
        <p class="total">So far, BAN have been purchased by people.</p>
        <b class="rate">The current rate is: </b>


      </div>
    </div>
    <form action="/create-checkout-session" method="POST">
      <label for="address">What address should I send your BAN to?</label>
      <input style="width: 70%;" type="text" id="address" placeholder="ban_1224...." required name="address"
        pattern="ban_.{60}" />
      <label for="amount">Enter your desired amount of BAN</label>
      <input type="number" id="amount" placeholder="1000" min="100" required name="amount" max="10000" />
      <p class="price">The current price is: 0€ </p>
      <div class="g-recaptcha" data-sitekey="6Lc80lofAAAAAPHm6vZA4AcKTuikKCfLYkSe7Ajc"></div>

      <button type="submit" style="background: #fbdd11;" id="checkout-button">Checkout</button>
    </form>
    <a href="/test.html">I want to try it out first</a>
  </section>
  <script>
    let exRate = 0
    fetch('/status').then(res => res.json()).then(
      ({ total, customers, rate, max }) => {
        exRate = rate
        document.querySelector('.total').textContent = "So far, " + total + " BAN have been purchased by " + customers + " people." + " There are currently " + max + " BAN in my wallet."
        document.querySelector('.rate').textContent = "The current rate is: " + rate.toFixed(4) + " EUR/BAN"
        document.querySelector('#amount').max = max
      }
    )
    document.querySelector('#amount').addEventListener('input', (event) => {
      document.querySelector('.price').textContent = "The current price is: " + (exRate * event.target.value).toFixed(2) + "€ + 0.25€ Stripe fees"
    })
  </script>
</body>

</html>